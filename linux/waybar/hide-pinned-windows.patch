Hide pinned windows from workspace icons in hyprland/workspaces module.

Track pinned state per window via Hyprland's "pin" IPC event and the
"pinned" field in client JSON data. Skip pinned windows in both
text-mode and taskbar-mode rendering. Also skip windows with empty
window-rewrite icons to avoid separator gaps.

diff -ruN a/include/modules/hyprland/windowcreationpayload.hpp b/include/modules/hyprland/windowcreationpayload.hpp
--- a/include/modules/hyprland/windowcreationpayload.hpp	1970-01-01 01:00:01.000000000 +0100
+++ b/include/modules/hyprland/windowcreationpayload.hpp	2026-02-16 17:30:58.842317476 +0100
@@ -32,10 +32,12 @@
   std::string window_title;
   std::string repr_rewrite;
   bool isActive = false;
+  bool isPinned = false;
 
  public:
   bool empty() const { return address.empty(); }
   void setActive(bool value) { isActive = value; }
+  void setPinned(bool value) { isPinned = value; }
 };
 
 class WindowCreationPayload {
@@ -68,6 +70,7 @@
   WindowAddress m_windowAddress;
   std::string m_workspaceName;
   bool m_isActive = false;
+  bool m_isPinned = false;
 
   int m_timeSpentUncreated = 0;
 };
diff -ruN a/include/modules/hyprland/workspace.hpp b/include/modules/hyprland/workspace.hpp
--- a/include/modules/hyprland/workspace.hpp	1970-01-01 01:00:01.000000000 +0100
+++ b/include/modules/hyprland/workspace.hpp	2026-02-16 17:31:00.376414136 +0100
@@ -60,6 +60,7 @@
   void insertWindow(WindowCreationPayload create_window_payload);
   void initializeWindowMap(const Json::Value& clients_data);
   void setActiveWindow(WindowAddress const& addr);
+  std::vector<WindowRepr>& windows() { return m_windowMap; }
 
   bool onWindowOpened(WindowCreationPayload const& create_window_payload);
   std::optional<WindowRepr> closeWindow(WindowAddress const& addr);
diff -ruN a/include/modules/hyprland/workspaces.hpp b/include/modules/hyprland/workspaces.hpp
--- a/include/modules/hyprland/workspaces.hpp	1970-01-01 01:00:01.000000000 +0100
+++ b/include/modules/hyprland/workspaces.hpp	2026-02-16 17:31:02.016460480 +0100
@@ -110,6 +110,7 @@
   void onWindowMoved(std::string const& payload);
 
   void onWindowTitleEvent(std::string const& payload);
+  void onWindowPinned(std::string const& payload);
   void onActiveWindowChanged(WindowAddress const& payload);
 
   void onConfigReloaded();
diff -ruN a/src/modules/hyprland/windowcreationpayload.cpp b/src/modules/hyprland/windowcreationpayload.cpp
--- a/src/modules/hyprland/windowcreationpayload.cpp	1970-01-01 01:00:01.000000000 +0100
+++ b/src/modules/hyprland/windowcreationpayload.cpp	2026-02-16 17:31:08.709185718 +0100
@@ -14,7 +14,8 @@
 WindowCreationPayload::WindowCreationPayload(Json::Value const& client_data)
     : m_window(std::make_pair(client_data["class"].asString(), client_data["title"].asString())),
       m_windowAddress(client_data["address"].asString()),
-      m_workspaceName(client_data["workspace"]["name"].asString()) {
+      m_workspaceName(client_data["workspace"]["name"].asString()),
+      m_isPinned(client_data["pinned"].asBool()) {
   clearAddr();
   clearWorkspaceName();
 }
@@ -100,7 +101,7 @@
   if (std::holds_alternative<ClassAndTitle>(m_window)) {
     auto const& [window_class, window_title] = std::get<ClassAndTitle>(m_window);
     return {m_windowAddress, window_class, window_title,
-            workspace_manager.getRewrite(window_class, window_title), m_isActive};
+            workspace_manager.getRewrite(window_class, window_title), m_isActive, m_isPinned};
   }
   // Unreachable
   spdlog::error("WorkspaceWindow::repr: Unreachable");
diff -ruN a/src/modules/hyprland/workspace.cpp b/src/modules/hyprland/workspace.cpp
--- a/src/modules/hyprland/workspace.cpp	1970-01-01 01:00:01.000000000 +0100
+++ b/src/modules/hyprland/workspace.cpp	2026-02-16 17:31:36.565520740 +0100
@@ -249,6 +249,8 @@
     bool isNotFirst = false;
 
     for (const auto& window_repr : m_windowMap) {
+      if (window_repr.isPinned) continue;
+      if (window_repr.repr_rewrite.empty()) continue;
       if (isNotFirst) {
         windows.append(windowSeparator);
       }
@@ -291,6 +293,9 @@
     if (shouldSkipWindow(window_repr)) {
       return;  // skip
     }
+    if (window_repr.isPinned) {
+      return;  // skip
+    }
     if (isFirst) {
       isFirst = false;
     } else if (m_workspaceManager.getWindowSeparator() != "") {
diff -ruN a/src/modules/hyprland/workspaces.cpp b/src/modules/hyprland/workspaces.cpp
--- a/src/modules/hyprland/workspaces.cpp	1970-01-01 01:00:01.000000000 +0100
+++ b/src/modules/hyprland/workspaces.cpp	2026-02-16 17:32:14.855192029 +0100
@@ -353,6 +353,8 @@
     onWindowTitleEvent(payload);
   } else if (eventName == "activewindowv2") {
     onActiveWindowChanged(payload);
+  } else if (eventName == "pin") {
+    onWindowPinned(payload);
   } else if (eventName == "configreloaded") {
     onConfigReloaded();
   }
@@ -600,6 +602,27 @@
   }
 }
 
+void Workspaces::onWindowPinned(std::string const &payload) {
+  const auto [windowAddress, pinnedStr] = splitDoublePayload(payload);
+  bool pinned = pinnedStr == "1";
+  spdlog::trace("Window pin state changed: {} pinned={}", windowAddress, pinned);
+
+  for (auto &[address, window] : m_orphanWindowMap) {
+    if (address == windowAddress) {
+      window.setPinned(pinned);
+      return;
+    }
+  }
+  for (auto const &workspace : m_workspaces) {
+    for (auto &window : workspace->windows()) {
+      if (window.address == windowAddress) {
+        window.setPinned(pinned);
+        return;
+      }
+    }
+  }
+}
+
 void Workspaces::onActiveWindowChanged(WindowAddress const& activeWindowAddress) {
   spdlog::trace("Active window changed: {}", activeWindowAddress);
   m_currentActiveWindowAddress = activeWindowAddress;
@@ -812,6 +835,7 @@
   m_ipc.registerForIPC("closewindow", this);
   m_ipc.registerForIPC("movewindowv2", this);
   m_ipc.registerForIPC("urgent", this);
+  m_ipc.registerForIPC("pin", this);
   m_ipc.registerForIPC("configreloaded", this);
 
   if (windowRewriteConfigUsesTitle() || m_taskbarWithTitle) {
